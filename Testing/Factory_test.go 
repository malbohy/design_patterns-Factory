package Testing

import (
	"../Factory"
	"../Factory/Notification"
	"strings"
	"testing"
)

func TestGetSMSNotifier(t *testing.T)  {
	notification := Notification.Notification{"5552233", "Hello world!"}
	notifier, err := Factory.GetNotifier(Notification.SMS)

	if err != nil {
		t.Fatal("Notifier type 'SMS' must be returned")
	}

	resultStr := notifier.SendNotification(notification)
	if !strings.Contains(resultStr, "was sent to number") {
		t.Error("SMS notifier result message was not correct.")
	}
}